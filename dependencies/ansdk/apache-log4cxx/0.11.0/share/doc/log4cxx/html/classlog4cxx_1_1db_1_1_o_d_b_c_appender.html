<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Apache log4cxx: ODBCAppender Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="classes.html"><span>Class&nbsp;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="namespacelog4cxx.html">log4cxx</a>::<a class="el" href="namespacelog4cxx_1_1db.html">db</a>::<a class="el" href="classlog4cxx_1_1db_1_1_o_d_b_c_appender.html">ODBCAppender</a>
  </div>
</div>
<div class="contents">
<h1>ODBCAppender Class Reference</h1><!-- doxytag: class="log4cxx::db::ODBCAppender" --><!-- doxytag: inherits="log4cxx::AppenderSkeleton" --><div class="dynheader">
Inheritance diagram for ODBCAppender:</div>
<div class="dynsection">
 <div class="center">
  <img src="classlog4cxx_1_1db_1_1_o_d_b_c_appender.gif" usemap="#ODBCAppender_map" alt=""/>
  <map id="ODBCAppender_map" name="ODBCAppender_map">
<area href="classlog4cxx_1_1_appender_skeleton.html" alt="AppenderSkeleton" shape="rect" coords="63,168,179,192"/>
<area href="classlog4cxx_1_1_appender.html" alt="Appender" shape="rect" coords="0,112,116,136"/>
<area href="classlog4cxx_1_1helpers_1_1_object_impl.html" alt="ObjectImpl" shape="rect" coords="126,112,242,136"/>
<area href="classlog4cxx_1_1spi_1_1_option_handler.html" alt="OptionHandler" shape="rect" coords="0,56,116,80"/>
<area href="classlog4cxx_1_1helpers_1_1_object.html" alt="Object" shape="rect" coords="126,56,242,80"/>
<area href="classlog4cxx_1_1helpers_1_1_object.html" alt="Object" shape="rect" coords="0,0,116,24"/>
</map>
 </div>
</div>

<p><a href="classlog4cxx_1_1db_1_1_o_d_b_c_appender-members.html">List of all members.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlog4cxx_1_1db_1_1_o_d_b_c_appender.html#a579b87b0baa2043e387e34eed706f53b">ODBCAppender</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlog4cxx_1_1db_1_1_o_d_b_c_appender.html#a0ca5f1ce3dd0e75424bdcd8db0b58c18">~ODBCAppender</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlog4cxx_1_1db_1_1_o_d_b_c_appender.html#aee5023c29cca9dc68164b22a01cb7c6e">setOption</a> (const <a class="el" href="namespacelog4cxx.html#ad7ec98d27bca7666e23f27dd1fb181c8">LogString</a> &amp;option, const <a class="el" href="namespacelog4cxx.html#ad7ec98d27bca7666e23f27dd1fb181c8">LogString</a> &amp;value)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set options.  <a href="#aee5023c29cca9dc68164b22a01cb7c6e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlog4cxx_1_1db_1_1_o_d_b_c_appender.html#af1f3ced78d335ec9c2b800d6d5aa3ef8">activateOptions</a> (<a class="el" href="classlog4cxx_1_1helpers_1_1_pool.html">log4cxx::helpers::Pool</a> &amp;p)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Activate the specified options.  <a href="#af1f3ced78d335ec9c2b800d6d5aa3ef8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlog4cxx_1_1db_1_1_o_d_b_c_appender.html#a0e1344f34583432e33fb23c587b8bccb">append</a> (const <a class="el" href="classlog4cxx_1_1helpers_1_1_object_ptr_t.html">spi::LoggingEventPtr</a> &amp;event, <a class="el" href="classlog4cxx_1_1helpers_1_1_pool.html">log4cxx::helpers::Pool</a> &amp;)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Adds the event to the buffer.  <a href="#a0e1344f34583432e33fb23c587b8bccb"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlog4cxx_1_1db_1_1_o_d_b_c_appender.html#a47feccb1873356363e4d0e302bc3822c">close</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Closes the appender, flushing the buffer first then closing the default connection if it is open.  <a href="#a47feccb1873356363e4d0e302bc3822c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlog4cxx_1_1db_1_1_o_d_b_c_appender.html#a9ec012dcd0096c8b662dd018b181faec">flushBuffer</a> (<a class="el" href="classlog4cxx_1_1helpers_1_1_pool.html">log4cxx::helpers::Pool</a> &amp;p)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">loops through the buffer of LoggingEvents, gets a sql string from <a class="el" href="classlog4cxx_1_1db_1_1_o_d_b_c_appender.html#acdd1df6edd6df02a3a2fabdf197f2c5e" title="By default getLogStatement sends the event to the required Layout object.">getLogStatement()</a> and sends it to <a class="el" href="classlog4cxx_1_1db_1_1_o_d_b_c_appender.html#ae950230913c98f717c92ba028abd7fe5" title="Override this to provide an alertnate method of getting connections (such as caching)...">execute()</a>.  <a href="#a9ec012dcd0096c8b662dd018b181faec"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlog4cxx_1_1db_1_1_o_d_b_c_appender.html#a4312e727a9ea814779d2c9950dc3c73e">requiresLayout</a> () const </td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><a class="el" href="classlog4cxx_1_1db_1_1_o_d_b_c_appender.html">ODBCAppender</a> requires a layout.  <a href="#a4312e727a9ea814779d2c9950dc3c73e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlog4cxx_1_1db_1_1_o_d_b_c_appender.html#a050215bb14548cbf0ca36aa7a426f0c0">setSql</a> (const <a class="el" href="namespacelog4cxx.html#ad7ec98d27bca7666e23f27dd1fb181c8">LogString</a> &amp;s)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set pre-formated statement eg: insert into LogTable (msg) values ("%m").  <a href="#a050215bb14548cbf0ca36aa7a426f0c0"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const <a class="el" href="namespacelog4cxx.html#ad7ec98d27bca7666e23f27dd1fb181c8">LogString</a> &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlog4cxx_1_1db_1_1_o_d_b_c_appender.html#a7d4781aaddda08b472b4e6bc9560de21">getSql</a> () const </td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns pre-formated statement eg: insert into LogTable (msg) values ("%m").  <a href="#a7d4781aaddda08b472b4e6bc9560de21"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlog4cxx_1_1db_1_1_o_d_b_c_appender.html#a7fb78037faae88af122f46cfc5935c4f">setUser</a> (const <a class="el" href="namespacelog4cxx.html#ad7ec98d27bca7666e23f27dd1fb181c8">LogString</a> &amp;user)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlog4cxx_1_1db_1_1_o_d_b_c_appender.html#a85c5ccc737e7910aa6198c83614f45a6">setURL</a> (const <a class="el" href="namespacelog4cxx.html#ad7ec98d27bca7666e23f27dd1fb181c8">LogString</a> &amp;url)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlog4cxx_1_1db_1_1_o_d_b_c_appender.html#a66975d531aaca092a89777216fcbfdff">setPassword</a> (const <a class="el" href="namespacelog4cxx.html#ad7ec98d27bca7666e23f27dd1fb181c8">LogString</a> &amp;password)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlog4cxx_1_1db_1_1_o_d_b_c_appender.html#a1b1f387829104ee2f7d390b61a66f481">setBufferSize</a> (size_t newBufferSize)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const <a class="el" href="namespacelog4cxx.html#ad7ec98d27bca7666e23f27dd1fb181c8">LogString</a> &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlog4cxx_1_1db_1_1_o_d_b_c_appender.html#ae9c0d0eb7b1ee0a9d515f599cedc6a20">getUser</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const <a class="el" href="namespacelog4cxx.html#ad7ec98d27bca7666e23f27dd1fb181c8">LogString</a> &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlog4cxx_1_1db_1_1_o_d_b_c_appender.html#a06eb442fec96b0de4d76bbe6cc1557ff">getURL</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const <a class="el" href="namespacelog4cxx.html#ad7ec98d27bca7666e23f27dd1fb181c8">LogString</a> &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlog4cxx_1_1db_1_1_o_d_b_c_appender.html#af15302fc282dc4e7bbd73b861016357e">getPassword</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">size_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlog4cxx_1_1db_1_1_o_d_b_c_appender.html#adec14dcb306a8c0f1811f7427248429a">getBufferSize</a> () const </td></tr>
<tr><td colspan="2"><h2>Protected Types</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef void *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlog4cxx_1_1db_1_1_o_d_b_c_appender.html#a0dd7c88bd1ee3273c903054961989748">SQLHDBC</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef void *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlog4cxx_1_1db_1_1_o_d_b_c_appender.html#ad7380bf52dd05dd52648631049e1724d">SQLHENV</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef void *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlog4cxx_1_1db_1_1_o_d_b_c_appender.html#ad2d83a8e49404908492a8816ab5c9c56">SQLHANDLE</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef short&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlog4cxx_1_1db_1_1_o_d_b_c_appender.html#a10ab8679a65c8f8832f34a02011b1c17">SQLSMALLINT</a></td></tr>
<tr><td colspan="2"><h2>Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacelog4cxx.html#ad7ec98d27bca7666e23f27dd1fb181c8">LogString</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlog4cxx_1_1db_1_1_o_d_b_c_appender.html#acdd1df6edd6df02a3a2fabdf197f2c5e">getLogStatement</a> (const <a class="el" href="classlog4cxx_1_1helpers_1_1_object_ptr_t.html">spi::LoggingEventPtr</a> &amp;event, <a class="el" href="classlog4cxx_1_1helpers_1_1_pool.html">helpers::Pool</a> &amp;p) const </td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">By default getLogStatement sends the event to the required <a class="el" href="classlog4cxx_1_1_layout.html" title="Extend this abstract class to create your own log layout format.">Layout</a> object.  <a href="#acdd1df6edd6df02a3a2fabdf197f2c5e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlog4cxx_1_1db_1_1_o_d_b_c_appender.html#ae950230913c98f717c92ba028abd7fe5">execute</a> (const <a class="el" href="namespacelog4cxx.html#ad7ec98d27bca7666e23f27dd1fb181c8">LogString</a> &amp;sql, <a class="el" href="classlog4cxx_1_1helpers_1_1_pool.html">log4cxx::helpers::Pool</a> &amp;p)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Override this to provide an alertnate method of getting connections (such as caching).  <a href="#ae950230913c98f717c92ba028abd7fe5"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlog4cxx_1_1db_1_1_o_d_b_c_appender.html#a7071a33ce15b2c3a16ff09690ca9937e">closeConnection</a> (<a class="el" href="classlog4cxx_1_1db_1_1_o_d_b_c_appender.html#a0dd7c88bd1ee3273c903054961989748">SQLHDBC</a> con)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Override this to return the connection to a pool, or to clean up the resource.  <a href="#a7071a33ce15b2c3a16ff09690ca9937e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classlog4cxx_1_1db_1_1_o_d_b_c_appender.html#a0dd7c88bd1ee3273c903054961989748">SQLHDBC</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlog4cxx_1_1db_1_1_o_d_b_c_appender.html#a08b7f6ae5633ed288db9806dac6b3482">getConnection</a> (<a class="el" href="classlog4cxx_1_1helpers_1_1_pool.html">log4cxx::helpers::Pool</a> &amp;p)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Override this to link with your connection pooling system.  <a href="#a08b7f6ae5633ed288db9806dac6b3482"></a><br/></td></tr>
<tr><td colspan="2"><h2>Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacelog4cxx.html#ad7ec98d27bca7666e23f27dd1fb181c8">LogString</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlog4cxx_1_1db_1_1_o_d_b_c_appender.html#a4ec73418fef52ea00dc3b94f682cf525">databaseURL</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">URL of the DB for default connection handling.  <a href="#a4ec73418fef52ea00dc3b94f682cf525"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacelog4cxx.html#ad7ec98d27bca7666e23f27dd1fb181c8">LogString</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlog4cxx_1_1db_1_1_o_d_b_c_appender.html#abb1c412066a897d15480261a944e7b5c">databaseUser</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">User to connect as for default connection handling.  <a href="#abb1c412066a897d15480261a944e7b5c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacelog4cxx.html#ad7ec98d27bca7666e23f27dd1fb181c8">LogString</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlog4cxx_1_1db_1_1_o_d_b_c_appender.html#a6942ecd25e0671fa6e7346d84888eab6">databasePassword</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">User to use for default connection handling.  <a href="#a6942ecd25e0671fa6e7346d84888eab6"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classlog4cxx_1_1db_1_1_o_d_b_c_appender.html#a0dd7c88bd1ee3273c903054961989748">SQLHDBC</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlog4cxx_1_1db_1_1_o_d_b_c_appender.html#a68ed11f0d40d8fff0cc13820a419d1f8">connection</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Connection used by default.  <a href="#a68ed11f0d40d8fff0cc13820a419d1f8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classlog4cxx_1_1db_1_1_o_d_b_c_appender.html#ad7380bf52dd05dd52648631049e1724d">SQLHENV</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlog4cxx_1_1db_1_1_o_d_b_c_appender.html#a9e986b27a58688aa57b320d62b6c3a29">env</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacelog4cxx.html#ad7ec98d27bca7666e23f27dd1fb181c8">LogString</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlog4cxx_1_1db_1_1_o_d_b_c_appender.html#aa4a300223285823bf05b6cb7bc14e5c0">sqlStatement</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Stores the string given to the <a class="el" href="namespacelog4cxx_1_1pattern.html">pattern</a> layout for conversion into a SQL statement, eg: insert into LogTable (Thread, <a class="el" href="classlog4cxx_1_1_file.html" title="An abstract representation of file and directory path names.">File</a>, Message) values ("%t", "%F", "%m").  <a href="#aa4a300223285823bf05b6cb7bc14e5c0"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">size_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlog4cxx_1_1db_1_1_o_d_b_c_appender.html#a7be887a2ca0a258cf6b368d32fd87487">bufferSize</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">size of LoggingEvent buffer before writing to the database.  <a href="#a7be887a2ca0a258cf6b368d32fd87487"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::list&lt; <a class="el" href="classlog4cxx_1_1helpers_1_1_object_ptr_t.html">spi::LoggingEventPtr</a> &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlog4cxx_1_1db_1_1_o_d_b_c_appender.html#a2156ad21b9f11eb4e62a4969dd3ac07a">buffer</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">ArrayList holding the buffer of Logging Events.  <a href="#a2156ad21b9f11eb4e62a4969dd3ac07a"></a><br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p><b>WARNING: This version of <a class="el" href="classlog4cxx_1_1db_1_1_o_d_b_c_appender.html">ODBCAppender</a> is very likely to be completely replaced in the future. Moreoever, it does not log exceptions.</b> </p>
<p>The <a class="el" href="classlog4cxx_1_1db_1_1_o_d_b_c_appender.html">ODBCAppender</a> provides for sending log events to a database.</p>
<p>Each append call adds to an <code>ArrayList</code> buffer. When the buffer is filled each log event is placed in a sql statement (configurable) and executed.</p>
<p><b>BufferSize</b>, <b><a class="el" href="namespacelog4cxx_1_1db.html">db</a> URL</b>, <b>User</b>, &amp; <b>Password</b> are configurable options in the standard log4j ways.</p>
<p>The <code>setSql(String sql)</code> sets the SQL statement to be used for logging -- this statement is sent to a <code><a class="el" href="classlog4cxx_1_1_pattern_layout.html" title="A flexible layout configurable with pattern string.">PatternLayout</a></code> (either created automaticly by the appender or added by the user). Therefore by default all the conversion patterns in <code><a class="el" href="classlog4cxx_1_1_pattern_layout.html" title="A flexible layout configurable with pattern string.">PatternLayout</a></code> can be used inside of the statement. (see the test cases for examples)</p>
<p>Overriding the <a class="el" href="classlog4cxx_1_1db_1_1_o_d_b_c_appender.html#acdd1df6edd6df02a3a2fabdf197f2c5e">getLogStatement</a> method allows more explicit control of the statement used for logging.</p>
<p>For use as a base class:</p>
<ul>
<li>
<p class="startli">Override <a class="el" href="classlog4cxx_1_1db_1_1_o_d_b_c_appender.html#a08b7f6ae5633ed288db9806dac6b3482" title="Override this to link with your connection pooling system.">getConnection()</a> to pass any connection you want. Typically this is used to enable application wide connection pooling.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli">Override closeConnection -- if you override getConnection make sure to implement <code>closeConnection</code> to handle the connection you generated. Typically this would return the connection to the pool it came from.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli">Override getLogStatement to produce specialized or dynamic statements. The default uses the sql option value.</p>
<p class="endli"></p>
</li>
</ul>
<hr/><h2>Member Typedef Documentation</h2>
<a class="anchor" id="ad2d83a8e49404908492a8816ab5c9c56"></a><!-- doxytag: member="log4cxx::db::ODBCAppender::SQLHANDLE" ref="ad2d83a8e49404908492a8816ab5c9c56" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void* <a class="el" href="classlog4cxx_1_1db_1_1_o_d_b_c_appender.html#ad2d83a8e49404908492a8816ab5c9c56">SQLHANDLE</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a0dd7c88bd1ee3273c903054961989748"></a><!-- doxytag: member="log4cxx::db::ODBCAppender::SQLHDBC" ref="a0dd7c88bd1ee3273c903054961989748" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void* <a class="el" href="classlog4cxx_1_1db_1_1_o_d_b_c_appender.html#a0dd7c88bd1ee3273c903054961989748">SQLHDBC</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ad7380bf52dd05dd52648631049e1724d"></a><!-- doxytag: member="log4cxx::db::ODBCAppender::SQLHENV" ref="ad7380bf52dd05dd52648631049e1724d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void* <a class="el" href="classlog4cxx_1_1db_1_1_o_d_b_c_appender.html#ad7380bf52dd05dd52648631049e1724d">SQLHENV</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a10ab8679a65c8f8832f34a02011b1c17"></a><!-- doxytag: member="log4cxx::db::ODBCAppender::SQLSMALLINT" ref="a10ab8679a65c8f8832f34a02011b1c17" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef short <a class="el" href="classlog4cxx_1_1db_1_1_o_d_b_c_appender.html#a10ab8679a65c8f8832f34a02011b1c17">SQLSMALLINT</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a579b87b0baa2043e387e34eed706f53b"></a><!-- doxytag: member="log4cxx::db::ODBCAppender::ODBCAppender" ref="a579b87b0baa2043e387e34eed706f53b" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classlog4cxx_1_1db_1_1_o_d_b_c_appender.html">ODBCAppender</a> </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a0ca5f1ce3dd0e75424bdcd8db0b58c18"></a><!-- doxytag: member="log4cxx::db::ODBCAppender::~ODBCAppender" ref="a0ca5f1ce3dd0e75424bdcd8db0b58c18" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual ~<a class="el" href="classlog4cxx_1_1db_1_1_o_d_b_c_appender.html">ODBCAppender</a> </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="af1f3ced78d335ec9c2b800d6d5aa3ef8"></a><!-- doxytag: member="log4cxx::db::ODBCAppender::activateOptions" ref="af1f3ced78d335ec9c2b800d6d5aa3ef8" args="(log4cxx::helpers::Pool &amp;p)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void activateOptions </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classlog4cxx_1_1helpers_1_1_pool.html">log4cxx::helpers::Pool</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>p</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Activate the specified options. </p>

<p>Reimplemented from <a class="el" href="classlog4cxx_1_1_appender_skeleton.html#abe1aa95ede9cc9d0609905154129c0ba">AppenderSkeleton</a>.</p>

</div>
</div>
<a class="anchor" id="a0e1344f34583432e33fb23c587b8bccb"></a><!-- doxytag: member="log4cxx::db::ODBCAppender::append" ref="a0e1344f34583432e33fb23c587b8bccb" args="(const spi::LoggingEventPtr &amp;event, log4cxx::helpers::Pool &amp;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void append </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classlog4cxx_1_1helpers_1_1_object_ptr_t.html">spi::LoggingEventPtr</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>event</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classlog4cxx_1_1helpers_1_1_pool.html">log4cxx::helpers::Pool</a> &amp;&nbsp;</td>
          <td class="paramname"></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Adds the event to the buffer. </p>
<p>When full the buffer is flushed. </p>

<p>Implements <a class="el" href="classlog4cxx_1_1_appender_skeleton.html#a4c08a91d859f636117f07463bb53fe41">AppenderSkeleton</a>.</p>

</div>
</div>
<a class="anchor" id="a47feccb1873356363e4d0e302bc3822c"></a><!-- doxytag: member="log4cxx::db::ODBCAppender::close" ref="a47feccb1873356363e4d0e302bc3822c" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void close </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Closes the appender, flushing the buffer first then closing the default connection if it is open. </p>

<p>Implements <a class="el" href="classlog4cxx_1_1_appender.html#af6ee7eacbde6b379b68d954e44f6e549">Appender</a>.</p>

</div>
</div>
<a class="anchor" id="a7071a33ce15b2c3a16ff09690ca9937e"></a><!-- doxytag: member="log4cxx::db::ODBCAppender::closeConnection" ref="a7071a33ce15b2c3a16ff09690ca9937e" args="(SQLHDBC con)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void closeConnection </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classlog4cxx_1_1db_1_1_o_d_b_c_appender.html#a0dd7c88bd1ee3273c903054961989748">SQLHDBC</a>&nbsp;</td>
          <td class="paramname"> <em>con</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Override this to return the connection to a pool, or to clean up the resource. </p>
<p>The default behavior holds a single connection open until the appender is closed (typically when garbage collected). </p>

</div>
</div>
<a class="anchor" id="ae950230913c98f717c92ba028abd7fe5"></a><!-- doxytag: member="log4cxx::db::ODBCAppender::execute" ref="ae950230913c98f717c92ba028abd7fe5" args="(const LogString &amp;sql, log4cxx::helpers::Pool &amp;p)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void execute </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespacelog4cxx.html#ad7ec98d27bca7666e23f27dd1fb181c8">LogString</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>sql</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classlog4cxx_1_1helpers_1_1_pool.html">log4cxx::helpers::Pool</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>p</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Override this to provide an alertnate method of getting connections (such as caching). </p>
<p>One method to fix this is to open connections at the start of <a class="el" href="classlog4cxx_1_1db_1_1_o_d_b_c_appender.html#a9ec012dcd0096c8b662dd018b181faec" title="loops through the buffer of LoggingEvents, gets a sql string from getLogStatement()...">flushBuffer()</a> and close them at the end. I use a connection pool outside of <a class="el" href="classlog4cxx_1_1db_1_1_o_d_b_c_appender.html">ODBCAppender</a> which is accessed in an override of this method. </p>

</div>
</div>
<a class="anchor" id="a9ec012dcd0096c8b662dd018b181faec"></a><!-- doxytag: member="log4cxx::db::ODBCAppender::flushBuffer" ref="a9ec012dcd0096c8b662dd018b181faec" args="(log4cxx::helpers::Pool &amp;p)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void flushBuffer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classlog4cxx_1_1helpers_1_1_pool.html">log4cxx::helpers::Pool</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>p</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>loops through the buffer of LoggingEvents, gets a sql string from <a class="el" href="classlog4cxx_1_1db_1_1_o_d_b_c_appender.html#acdd1df6edd6df02a3a2fabdf197f2c5e" title="By default getLogStatement sends the event to the required Layout object.">getLogStatement()</a> and sends it to <a class="el" href="classlog4cxx_1_1db_1_1_o_d_b_c_appender.html#ae950230913c98f717c92ba028abd7fe5" title="Override this to provide an alertnate method of getting connections (such as caching)...">execute()</a>. </p>
<p>Errors are sent to the errorHandler.</p>
<p>If a statement fails the LoggingEvent stays in the buffer! </p>

</div>
</div>
<a class="anchor" id="adec14dcb306a8c0f1811f7427248429a"></a><!-- doxytag: member="log4cxx::db::ODBCAppender::getBufferSize" ref="adec14dcb306a8c0f1811f7427248429a" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t getBufferSize </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a08b7f6ae5633ed288db9806dac6b3482"></a><!-- doxytag: member="log4cxx::db::ODBCAppender::getConnection" ref="a08b7f6ae5633ed288db9806dac6b3482" args="(log4cxx::helpers::Pool &amp;p)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="classlog4cxx_1_1db_1_1_o_d_b_c_appender.html#a0dd7c88bd1ee3273c903054961989748">SQLHDBC</a> getConnection </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classlog4cxx_1_1helpers_1_1_pool.html">log4cxx::helpers::Pool</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>p</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Override this to link with your connection pooling system. </p>
<p>By default this creates a single connection which is held open until the object is garbage collected. </p>

</div>
</div>
<a class="anchor" id="acdd1df6edd6df02a3a2fabdf197f2c5e"></a><!-- doxytag: member="log4cxx::db::ODBCAppender::getLogStatement" ref="acdd1df6edd6df02a3a2fabdf197f2c5e" args="(const spi::LoggingEventPtr &amp;event, helpers::Pool &amp;p) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacelog4cxx.html#ad7ec98d27bca7666e23f27dd1fb181c8">LogString</a> getLogStatement </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classlog4cxx_1_1helpers_1_1_object_ptr_t.html">spi::LoggingEventPtr</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>event</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classlog4cxx_1_1helpers_1_1_pool.html">helpers::Pool</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>p</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td> const<code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>By default getLogStatement sends the event to the required <a class="el" href="classlog4cxx_1_1_layout.html" title="Extend this abstract class to create your own log layout format.">Layout</a> object. </p>
<p>The layout will format the given <a class="el" href="namespacelog4cxx_1_1pattern.html">pattern</a> into a workable SQL string.</p>
<p>Overriding this provides direct access to the LoggingEvent when constructing the logging statement. </p>

</div>
</div>
<a class="anchor" id="af15302fc282dc4e7bbd73b861016357e"></a><!-- doxytag: member="log4cxx::db::ODBCAppender::getPassword" ref="af15302fc282dc4e7bbd73b861016357e" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="namespacelog4cxx.html#ad7ec98d27bca7666e23f27dd1fb181c8">LogString</a>&amp; getPassword </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a7d4781aaddda08b472b4e6bc9560de21"></a><!-- doxytag: member="log4cxx::db::ODBCAppender::getSql" ref="a7d4781aaddda08b472b4e6bc9560de21" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="namespacelog4cxx.html#ad7ec98d27bca7666e23f27dd1fb181c8">LogString</a>&amp; getSql </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns pre-formated statement eg: insert into LogTable (msg) values ("%m"). </p>

</div>
</div>
<a class="anchor" id="a06eb442fec96b0de4d76bbe6cc1557ff"></a><!-- doxytag: member="log4cxx::db::ODBCAppender::getURL" ref="a06eb442fec96b0de4d76bbe6cc1557ff" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="namespacelog4cxx.html#ad7ec98d27bca7666e23f27dd1fb181c8">LogString</a>&amp; getURL </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ae9c0d0eb7b1ee0a9d515f599cedc6a20"></a><!-- doxytag: member="log4cxx::db::ODBCAppender::getUser" ref="ae9c0d0eb7b1ee0a9d515f599cedc6a20" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="namespacelog4cxx.html#ad7ec98d27bca7666e23f27dd1fb181c8">LogString</a>&amp; getUser </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a4312e727a9ea814779d2c9950dc3c73e"></a><!-- doxytag: member="log4cxx::db::ODBCAppender::requiresLayout" ref="a4312e727a9ea814779d2c9950dc3c73e" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool requiresLayout </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><a class="el" href="classlog4cxx_1_1db_1_1_o_d_b_c_appender.html">ODBCAppender</a> requires a layout. </p>

<p>Implements <a class="el" href="classlog4cxx_1_1_appender.html#a1fa0a21a0f0a6ec3a9e92a98db9ffa85">Appender</a>.</p>

</div>
</div>
<a class="anchor" id="a1b1f387829104ee2f7d390b61a66f481"></a><!-- doxytag: member="log4cxx::db::ODBCAppender::setBufferSize" ref="a1b1f387829104ee2f7d390b61a66f481" args="(size_t newBufferSize)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setBufferSize </td>
          <td>(</td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>newBufferSize</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="aee5023c29cca9dc68164b22a01cb7c6e"></a><!-- doxytag: member="log4cxx::db::ODBCAppender::setOption" ref="aee5023c29cca9dc68164b22a01cb7c6e" args="(const LogString &amp;option, const LogString &amp;value)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void setOption </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespacelog4cxx.html#ad7ec98d27bca7666e23f27dd1fb181c8">LogString</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>option</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="namespacelog4cxx.html#ad7ec98d27bca7666e23f27dd1fb181c8">LogString</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>value</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Set options. </p>

<p>Reimplemented from <a class="el" href="classlog4cxx_1_1_appender_skeleton.html#aee5023c29cca9dc68164b22a01cb7c6e">AppenderSkeleton</a>.</p>

</div>
</div>
<a class="anchor" id="a66975d531aaca092a89777216fcbfdff"></a><!-- doxytag: member="log4cxx::db::ODBCAppender::setPassword" ref="a66975d531aaca092a89777216fcbfdff" args="(const LogString &amp;password)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setPassword </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespacelog4cxx.html#ad7ec98d27bca7666e23f27dd1fb181c8">LogString</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>password</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a050215bb14548cbf0ca36aa7a426f0c0"></a><!-- doxytag: member="log4cxx::db::ODBCAppender::setSql" ref="a050215bb14548cbf0ca36aa7a426f0c0" args="(const LogString &amp;s)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setSql </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespacelog4cxx.html#ad7ec98d27bca7666e23f27dd1fb181c8">LogString</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>s</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Set pre-formated statement eg: insert into LogTable (msg) values ("%m"). </p>

</div>
</div>
<a class="anchor" id="a85c5ccc737e7910aa6198c83614f45a6"></a><!-- doxytag: member="log4cxx::db::ODBCAppender::setURL" ref="a85c5ccc737e7910aa6198c83614f45a6" args="(const LogString &amp;url)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setURL </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespacelog4cxx.html#ad7ec98d27bca7666e23f27dd1fb181c8">LogString</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>url</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a7fb78037faae88af122f46cfc5935c4f"></a><!-- doxytag: member="log4cxx::db::ODBCAppender::setUser" ref="a7fb78037faae88af122f46cfc5935c4f" args="(const LogString &amp;user)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setUser </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespacelog4cxx.html#ad7ec98d27bca7666e23f27dd1fb181c8">LogString</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>user</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="a2156ad21b9f11eb4e62a4969dd3ac07a"></a><!-- doxytag: member="log4cxx::db::ODBCAppender::buffer" ref="a2156ad21b9f11eb4e62a4969dd3ac07a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::list&lt;<a class="el" href="classlog4cxx_1_1helpers_1_1_object_ptr_t.html">spi::LoggingEventPtr</a>&gt; <a class="el" href="classlog4cxx_1_1db_1_1_o_d_b_c_appender.html#a2156ad21b9f11eb4e62a4969dd3ac07a">buffer</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>ArrayList holding the buffer of Logging Events. </p>

</div>
</div>
<a class="anchor" id="a7be887a2ca0a258cf6b368d32fd87487"></a><!-- doxytag: member="log4cxx::db::ODBCAppender::bufferSize" ref="a7be887a2ca0a258cf6b368d32fd87487" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t <a class="el" href="classlog4cxx_1_1db_1_1_o_d_b_c_appender.html#a7be887a2ca0a258cf6b368d32fd87487">bufferSize</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>size of LoggingEvent buffer before writing to the database. </p>
<p>Default is 1. </p>

</div>
</div>
<a class="anchor" id="a68ed11f0d40d8fff0cc13820a419d1f8"></a><!-- doxytag: member="log4cxx::db::ODBCAppender::connection" ref="a68ed11f0d40d8fff0cc13820a419d1f8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classlog4cxx_1_1db_1_1_o_d_b_c_appender.html#a0dd7c88bd1ee3273c903054961989748">SQLHDBC</a> <a class="el" href="classlog4cxx_1_1db_1_1_o_d_b_c_appender.html#a68ed11f0d40d8fff0cc13820a419d1f8">connection</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Connection used by default. </p>
<p>The connection is opened the first time it is needed and then held open until the appender is closed (usually at garbage collection). This behavior is best modified by creating a sub-class and overriding the <code>getConnection</code> and <code>closeConnection</code> methods. </p>

</div>
</div>
<a class="anchor" id="a6942ecd25e0671fa6e7346d84888eab6"></a><!-- doxytag: member="log4cxx::db::ODBCAppender::databasePassword" ref="a6942ecd25e0671fa6e7346d84888eab6" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacelog4cxx.html#ad7ec98d27bca7666e23f27dd1fb181c8">LogString</a> <a class="el" href="classlog4cxx_1_1db_1_1_o_d_b_c_appender.html#a6942ecd25e0671fa6e7346d84888eab6">databasePassword</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>User to use for default connection handling. </p>

</div>
</div>
<a class="anchor" id="a4ec73418fef52ea00dc3b94f682cf525"></a><!-- doxytag: member="log4cxx::db::ODBCAppender::databaseURL" ref="a4ec73418fef52ea00dc3b94f682cf525" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacelog4cxx.html#ad7ec98d27bca7666e23f27dd1fb181c8">LogString</a> <a class="el" href="classlog4cxx_1_1db_1_1_o_d_b_c_appender.html#a4ec73418fef52ea00dc3b94f682cf525">databaseURL</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>URL of the DB for default connection handling. </p>

</div>
</div>
<a class="anchor" id="abb1c412066a897d15480261a944e7b5c"></a><!-- doxytag: member="log4cxx::db::ODBCAppender::databaseUser" ref="abb1c412066a897d15480261a944e7b5c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacelog4cxx.html#ad7ec98d27bca7666e23f27dd1fb181c8">LogString</a> <a class="el" href="classlog4cxx_1_1db_1_1_o_d_b_c_appender.html#abb1c412066a897d15480261a944e7b5c">databaseUser</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>User to connect as for default connection handling. </p>

</div>
</div>
<a class="anchor" id="a9e986b27a58688aa57b320d62b6c3a29"></a><!-- doxytag: member="log4cxx::db::ODBCAppender::env" ref="a9e986b27a58688aa57b320d62b6c3a29" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classlog4cxx_1_1db_1_1_o_d_b_c_appender.html#ad7380bf52dd05dd52648631049e1724d">SQLHENV</a> <a class="el" href="classlog4cxx_1_1db_1_1_o_d_b_c_appender.html#a9e986b27a58688aa57b320d62b6c3a29">env</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="aa4a300223285823bf05b6cb7bc14e5c0"></a><!-- doxytag: member="log4cxx::db::ODBCAppender::sqlStatement" ref="aa4a300223285823bf05b6cb7bc14e5c0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacelog4cxx.html#ad7ec98d27bca7666e23f27dd1fb181c8">LogString</a> <a class="el" href="classlog4cxx_1_1db_1_1_o_d_b_c_appender.html#aa4a300223285823bf05b6cb7bc14e5c0">sqlStatement</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Stores the string given to the <a class="el" href="namespacelog4cxx_1_1pattern.html">pattern</a> layout for conversion into a SQL statement, eg: insert into LogTable (Thread, <a class="el" href="classlog4cxx_1_1_file.html" title="An abstract representation of file and directory path names.">File</a>, Message) values ("%t", "%F", "%m"). </p>
<p>Be careful of quotes in your messages!</p>
<p>Also see <a class="el" href="classlog4cxx_1_1_pattern_layout.html" title="A flexible layout configurable with pattern string.">PatternLayout</a>. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="odbcappender_8h.html">odbcappender.h</a></li>
</ul>
</div>
<!--
Licensed to the Apache Software Foundation (ASF) under one or more
contributor license agreements.  See the NOTICE file distributed with
this work for additional information regarding copyright ownership.
The ASF licenses this file to You under the Apache License, Version 2.0
(the "License"); you may not use this file except in compliance with
the License.  You may obtain a copy of the License at

     http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
-->
    </body>
</html>
